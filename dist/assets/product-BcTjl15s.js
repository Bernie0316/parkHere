import{g as r,p as d,f as c,s as n,l as s,b as i}from"./utils--r_zglHE.js";import{P as u}from"./ProductData-AZKCg8GK.js";class m{constructor(e,o){this.productId=e,this.product={},this.dataSource=o}async init(){this.product=await this.dataSource.findProductById(this.productId),this.renderProductDetails(),document.getElementById("addToCart").addEventListener("click",this.addProductToCart.bind(this))}addProductToCart(){const e=r("so-cart")||[],o=this.product.Id;if(e.length!=0&&d(o,e)){const a=c(o,e);e[a].Quantity++,n("so-cart",e),alert("Item has been add to cart!")}else this.product.Quantity=1,e.push(this.product),n("so-cart",e)}renderProductDetails(){l(this.product)}}function l(t){document.querySelector("h2").textContent=t.Brand.Name,document.querySelector("h3").textContent=t.NameWithoutBrand;const e=document.getElementById("productImage");e.src=t.Images.PrimaryExtraLarge,e.alt=t.NameWithoutBrand,document.getElementById("productFinalPrice").textContent=`$${t.FinalPrice}`,document.getElementById("productPrice").textContent=`$${t.SuggestedRetailPrice}`,document.getElementById("savePrice").textContent=`SAVE $${(t.SuggestedRetailPrice-t.FinalPrice).toFixed(2)}`,document.getElementById("productColor").textContent=t.Colors[0].ColorName,document.getElementById("productDesc").innerHTML=t.DescriptionHtmlSimple,document.getElementById("addToCart").dataset.id=t.Id}document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".cart-count"),e=JSON.parse(localStorage.getItem("so-cart"))||[];t.textContent=e.length});s();const I=new u("tents"),g=i("product"),h=new m(g,I);h.init();
